!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-event-bus",["exports","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-event-bus"]={},e.rxjs,e.rxjs.operators)}(this,(function(e,t,r){"use strict";var n=function(){function e(){}return e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e}(),i=function(){function e(e,t){this._id=n.uuid(),this._key=e,this._data=t,this._timestamp=(new Date).getTime()}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this._timestamp},enumerable:!1,configurable:!0}),e}(),o=function(){function e(){this.separator=":",this.eventBus=new t.Subject}return e.prototype.keyMatch=function(e,t){for(var r,n,i=this.separator,o=e.split(i),u=t.split(i),a=o.length,s=u.length,f=Math.max(a,s),x=0;x<f;x++){var p=o[x],c=u[x];if("**"===c&&void 0!==p)return!0;if(n=p,"*"!==(r=c)&&r!==n)return!1}return!0},e.prototype.cast=function(e,t){if(!e.trim().length)throw new Error("key parameter must be a string and must not be empty");var r=new i(e,t);this.eventBus.next({key:e,data:t,metadata:r})},e.prototype.on=function(e){var t=this;return this.eventBus.asObservable().pipe(r.filter((function(r){return t.keyMatch(r.key,e)})),r.map((function(e){return e.metadata})))},e}();e.NgEventBus=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-event-bus.umd.min.js.map